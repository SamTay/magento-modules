<?xml version="1.0"?>
<!--/*
 * @package     BlueAcorn\AmqpBase
 * @version     1.0.0
 * @author      Sam Tay @ Blue Acorn, Inc. <code@blueacorn.com>
 * @copyright   Copyright Â© 2016 Blue Acorn, Inc.
 */-->
<config xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="urn:magento:framework-message-queue:etc/queue.xsd">
    <!-- Publishers & Topics -->
    <publisher name="alerts" connection="amqp" exchange="alerts"/>
    <topic publisher="alerts" name="alert" schema="BlueAcorn\AmqpBase\Model\Alert\AlertInterface" />

    <!-- Consumers & Bindings -->
    <consumer name="alertListener" queue="alert_queue" connection="amqp" class="BlueAcorn\AmqpBase\Model\Alert\Processor" method="processAlert" max_messages="100"/>
    <bind queue="alert_queue" exchange="alerts" topic="#" />
</config>
