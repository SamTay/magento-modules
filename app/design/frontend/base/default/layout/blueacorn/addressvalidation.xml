<?xml version="1.0"?>
<!--
/**
 * @package     BlueAcorn\AddressValidation
 * @version
 * @author      Blue Acorn, Inc. <code@blueacorn.com>
 * @copyright   Copyright Â© 2015 Blue Acorn, Inc.
 */
 -->
<layout>
    <!-- Abstract layout update handle, to be applied in more specific situations -->
    <addressvalidation>
        <reference name="head">
            <action method="addJs" ifconfig="blueacorn_addressvalidation/general/enabled">
                <script>blueacorn/addressvalidation/addressvalidation.js</script>
            </action>
            <action method="addJs" ifconfig="blueacorn_addressvalidation/general/enabled">
                <script>prototype/window.js</script>
            </action>
            <action method="addItem" ifconfig="blueacorn_addressvalidation/general/enabled">
                <type>js_css</type>
                <script>prototype/windows/themes/default.css</script>
            </action>
            <action method="addItem" ifconfig="blueacorn_addressvalidation/general/enabled">
                <type>skin_css</type>
                <script>addressvalidation/css/addressvalidation.css</script>
            </action>
        </reference>
    </addressvalidation>

    <!-- Checkout specific layout handles -->
    <checkout_multishipping>
        <update handle="addressvalidation"/>
    </checkout_multishipping>
    <checkout_onepage_index>
        <update handle="addressvalidation"/>
        <reference name="head">
            <action method="addJs" ifconfig="blueacorn_addressvalidation/general/enabled">
                <script>blueacorn/addressvalidation/opcheckout.js</script>
            </action>
        </reference>
        <reference name="content">
            <block type="checkout/onepage_shipping" name="address.mark.verified" after="shipping"
                   template="blueacorn/addressvalidation/checkout/onepage/mark_verified.phtml"/>
        </reference>
    </checkout_onepage_index>
</layout>
