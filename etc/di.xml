<?xml version="1.0"?>
<!--
/**
 * @package     BlueAcorn\Core
 * @version     1.0.0
 * @author      Sam Tay @ Blue Acorn, Inc. <code@blueacorn.com>
 * @copyright   Copyright Â© 2016 Blue Acorn, Inc.
 */
-->
<config xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="urn:magento:framework:ObjectManager/etc/config.xsd">
    <type name="Magento\Framework\Console\CommandList">
        <arguments>
            <argument name="commands" xsi:type="array">
                <item name="generateProductScriptCommand" xsi:type="object">BlueAcorn\Core\Console\Script\ProductAttributeCommand</item>
            </argument>
        </arguments>
    </type>
    <type name="BlueAcorn\Core\Model\Logger\Handler\Base">
        <arguments>
            <argument name="filesystem" xsi:type="object">Magento\Framework\Filesystem\Driver\File</argument>
            <argument name="fileName" xsi:type="string">/var/log/ba.log</argument>
        </arguments>
    </type>
    <type name="BlueAcorn\Core\Model\Logger">
        <arguments>
            <argument name="name" xsi:type="string">BlueAcorn Logger</argument>
            <argument name="handlers"  xsi:type="array">
                <item name="base" xsi:type="object">BlueAcorn\Core\Model\Logger\Handler\Base</item>
            </argument>
        </arguments>
    </type>
    <!-- ********************** Example for external modules  **********************

    To create a custom logger for the content publisher module,
    the following would be added to that module's di.xml:

    <virtualType name="BlueAcornContentPublisherLogger" type="BlueAcorn\Core\Model\Logger">
        <arguments>
            <argument name="name" xsi:type="string">BlueAcorn Content Publisher Logger</argument>
            <argument name="handlers" xsi:type="array">
                <item name="base" xsi:type="object">BlueAcornContentSchedulerLoggerHandler</item>
            </argument>
        </arguments>
    </virtualType>
    <virtualType name="BlueAcornContentSchedulerLoggerHandler" type="BlueAcorn\Core\Model\Logger\Handler\Base">
        <arguments>
            <argument name="fileName" xsi:type="string">/var/log/ba_scheduler.log</argument>
        </arguments>
    </virtualType>
    <type name="BlueAcorn\ContentPublisher\Helper\Debug">
        <arguments>
            <argument name="logger" xsi:type="object">BlueAcornContentPublisherLogger</argument>
        </arguments>
    </type>

    The two 'virtualType' elements create the object that can log to an arbitrary file name
    (the one given in the handler virtualType argument). The last 'type' element injects the logger into whichever
    class needs it. This element will need to be duplicated for any class that explicitly uses the logger object. To
    avoid this, you can copy the pattern from the ContentPublisher, which is to have a single Helper\Debug class that
    encapsulates logging for the entire module.

    **************************************************************************** -->
</config>